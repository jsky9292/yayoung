<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¸€ëŸ¬ë¸Œ ë§ˆì¼“ ì „ì²´ ì œí’ˆ ëŒ€ì‹œë³´ë“œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        /* ìƒë‹¨ í†µê³„ ì¹´ë“œ */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
        }

        .stat-card .label {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .stat-card .value {
            font-size: 36px;
            font-weight: bold;
        }

        /* í¬ë¡¤ë§ ë²„íŠ¼ ì„¹ì…˜ */
        .button-section {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 12px 24px;
            font-size: 14px;
            font-weight: 500;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .all-btn {
            background: linear-gradient(135deg, #56ab2f, #a8e063);
            color: white;
            border: 1px solid #56ab2f;
        }

        .all-btn:hover {
            background: linear-gradient(135deg, #4a9527, #96d254);
            transform: translateY(-2px);
        }

        .yahoo-btn {
            background: #667eea;
            color: white;
            border: 1px solid #667eea;
        }

        .yahoo-btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }

        .action-btn.active {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.8);
        }

        .yayongsa-btn {
            background: #764ba2;
            color: white;
            border: 2px solid #764ba2;
        }

        .yayongsa-btn:hover {
            background: #654290;
            color: white;
        }

        .sync-btn {
            background: #48bb78;
            color: white;
            border: 2px solid #48bb78;
        }

        .sync-btn:hover {
            background: #38a169;
        }

        /* í•„í„° ì„¹ì…˜ */
        .filter-section {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-section label {
            color: #333;
            font-size: 14px;
            font-weight: 500;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .filter-select:focus {
            border-color: #667eea;
            outline: none;
        }

        .search-box {
            flex: 1;
            min-width: 200px;
        }

        .search-box input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .search-box input:focus {
            border-color: #667eea;
            outline: none;
        }

        .filter-btn {
            padding: 8px 20px;
            background: #667eea;
            color: white;
            border: 1px solid #667eea;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .filter-btn:hover {
            background: #5a6fd8;
            transform: translateY(-1px);
        }

        /* ì œí’ˆ ì •ë³´ */
        .product-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 30px;
            color: #333;
            font-size: 14px;
        }

        .page-info {
            margin-left: auto;
        }

        /* ì œí’ˆ ê·¸ë¦¬ë“œ */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            transition: all 0.3s;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: #f5f5f5;
        }

        .product-content {
            padding: 15px;
        }

        .product-title {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 10px;
            color: #333;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            line-height: 1.4;
            height: 2.8em;
        }

        .product-price {
            font-size: 20px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 8px;
        }

        .product-meta {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            font-size: 12px;
            color: #999;
        }

        .product-meta span {
            padding: 2px 8px;
            background: #f5f5f5;
            border-radius: 4px;
        }

        /* í˜ì´ì§€ë„¤ì´ì…˜ */
        .pagination {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-top: 30px;
        }

        .pagination button {
            padding: 8px 12px;
            border: 1px solid #ddd;
            background: white;
            color: #333;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }

        .pagination button:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
            transform: translateY(-1px);
        }

        .pagination button.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .pagination button:disabled {
            background: #f5f5f5;
            color: #999;
            cursor: not-allowed;
        }

        /* Statistics Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s;
        }

        .modal.show {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.3s;
        }

        .modal-header {
            padding: 25px;
            border-bottom: 2px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            font-size: 1.5rem;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
            padding: 5px;
        }

        .modal-close:hover {
            color: #333;
        }

        .modal-body {
            padding: 25px;
        }

        .stats-section {
            margin-bottom: 30px;
        }

        .stats-section h3 {
            font-size: 1.2rem;
            color: #555;
            margin-bottom: 15px;
            border-bottom: 1px solid #f0f0f0;
            padding-bottom: 10px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .stat-item .label {
            font-size: 0.9rem;
            color: #777;
            margin-bottom: 5px;
        }

        .stat-item .value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #333;
        }

        .chart-container {
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .bar-chart {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            height: 200px;
            margin-bottom: 10px;
        }

        .bar {
            width: 60px;
            background: linear-gradient(to top, #667eea, #764ba2);
            border-radius: 5px 5px 0 0;
            position: relative;
            transition: all 0.3s;
        }

        .bar:hover {
            transform: scale(1.05);
        }

        .bar-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            color: #666;
            width: 80px;
            text-align: center;
        }

        .bar-value {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.9rem;
            font-weight: bold;
            color: #333;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âš¾ ê¸€ëŸ¬ë¸Œ ë§ˆì¼“ ì „ì²´ ì œí’ˆ ëŒ€ì‹œë³´ë“œ</h1>

        <!-- í†µê³„ ì¹´ë“œ -->
        <div class="stats-container">
            <div class="stat-card">
                <div class="label">Yahoo ì´ ìƒí’ˆ</div>
                <div class="value">{{ yahoo_count|default(0) }}</div>
            </div>
            <div class="stat-card">
                <div class="label">ì•¼ìš©ì‚¬ ì´ ìƒí’ˆ</div>
                <div class="value">{{ yayongsa_count|default(0) }}</div>
            </div>
            <div class="stat-card">
                <div class="label">Yahoo í‰ê· ê°€ê²©</div>
                <div class="value">ï¿¥{{ "{:,}".format(yahoo_avg|default(0)|int) }}</div>
            </div>
            <div class="stat-card">
                <div class="label">Daum í‰ê· ê°€ê²©</div>
                <div class="value">â‚©{{ "{:,}".format(yayongsa_avg|default(0)|int) }}</div>
            </div>
        </div>

        <!-- ë²„íŠ¼ ì„¹ì…˜ -->
        <div class="button-section">
            <button class="action-btn all-btn" onclick="filterProductsBySource('all')">ëª¨ë“  ë§ˆì¼“ ({{ yahoo_count + yayongsa_count }}ê°œ)</button>
            <button class="action-btn yahoo-btn" onclick="filterProductsBySource('yahoo')">Yahoo Auction ({{ yahoo_count }}ê°œ)</button>
            <button class="action-btn daum-btn" onclick="filterProductsBySource('yayongsa')">ì•¼ìš©ì‚¬ ì¹´í˜ ({{ yayongsa_count }}ê°œ)</button>
            <button class="action-btn sync-btn" onclick="showStatisticsModal()">ğŸ“Š í†µê³„ ë¶„ì„</button>
        </div>

        <!-- ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ -->
        <div style="text-align: right; margin-bottom: 20px;">
            <a href="/dashboard/export" class="btn btn-success" style="padding: 10px 20px; font-weight: 600; background: #48bb78; border: none; border-radius: 8px; color: white; text-decoration: none; display: inline-block;">
                ğŸ“¥ Excel ë‹¤ìš´ë¡œë“œ
            </a>
        </div>

        <!-- í•„í„° ì„¹ì…˜ -->
        <div class="filter-section">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="ë¸Œëœë“œë‚˜ ì œí’ˆëª… ê²€ìƒ‰ (ì˜ˆ: Mizuno, Rawlings)" onkeyup="filterProducts()">
            </div>
            <select class="filter-select" id="positionSelect" onchange="filterProducts()">
                <option value="all">ëª¨ë“  í¬ì§€ì…˜</option>
                <option value="íˆ¬ìˆ˜">íˆ¬ìˆ˜ç”¨</option>
                <option value="ì™¸ì•¼ìˆ˜">ì™¸ì•¼ìˆ˜ç”¨</option>
                <option value="ë‚´ì•¼ìˆ˜">ë‚´ì•¼ìˆ˜ç”¨</option>
                <option value="í¬ìˆ˜">í¬ìˆ˜ç”¨</option>
                <option value="ì˜¬ë¼ìš´ë“œ">ì˜¬ë¼ìš´ë“œ</option>
            </select>
            <select class="filter-select" id="conditionSelect" onchange="filterProducts()">
                <option value="all">ëª¨ë“  ìƒíƒœ</option>
                <option value="ì‹ í’ˆ">æ–°å“ (ì‹ í’ˆ)</option>
                <option value="ì¤‘ê³ ">ä¸­å¤ (ì¤‘ê³ )</option>
            </select>
            <select class="filter-select" id="typeSelect" onchange="filterProducts()">
                <option value="all">ëª¨ë“  íƒ€ì…</option>
                <option value="hardball">ç¡¬å¼ (ê²½ì‹)</option>
                <option value="softball">è»Ÿå¼ (ì—°ì‹)</option>
            </select>
            <select class="filter-select" id="brandSelect" onchange="filterProducts()">
                <option value="all">ëª¨ë“  ë¸Œëœë“œ</option>
                <option value="mizuno">Mizuno</option>
                <option value="zett">ZETT</option>
                <option value="ssk">SSK</option>
                <option value="rawlings">Rawlings</option>
                <option value="wilson">Wilson</option>
                <option value="asics">ASICS</option>
                <option value="nike">Nike</option>
                <option value="other">ãã®ä»–</option>
            </select>
            <select class="filter-select" id="marketSelect" onchange="filterProducts()">
                <option value="all">ëª¨ë“  ë§ˆì¼“</option>
                <option value="yahoo">Yahoo</option>
                <option value="yayongsa">ì•¼ìš©ì‚¬</option>
            </select>
            <button class="filter-btn" onclick="resetFilters()">í•„í„° ì´ˆê¸°í™”</button>
        </div>

        <!-- ì œí’ˆ ì •ë³´ -->
        <div class="product-info">
            <span id="productInfoText">í‘œì‹œ ì¤‘: 1-20 / ì „ì²´ 0ê°œ</span>
            <span class="page-info">í˜ì´ì§€ë‹¹:
                <select id="pageSizeSelect" onchange="changePageSize(this.value)">
                    <option value="20" selected>20ê°œ</option>
                    <option value="50">50ê°œ</option>
                    <option value="100">100ê°œ</option>
                    <option value="200">200ê°œ</option>
                </select>
            </span>
        </div>

        <!-- ì œí’ˆ ê·¸ë¦¬ë“œ -->
        <div class="products-grid" id="productsGrid">
            <!-- ì œí’ˆ ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
        </div>

        <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
        <div class="pagination" id="paginationContainer">
            <!-- í˜ì´ì§€ ë²„íŠ¼ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
        </div>
    </div>

    <!-- Statistics Modal -->
    <div id="statsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><span>ğŸ“Š</span> ìƒì„¸ í†µê³„ ë¶„ì„</h2>
                <button class="modal-close" onclick="closeStatsModal()">Ã—</button>
            </div>
            <div class="modal-body">
                <!-- Overall Statistics -->
                <div class="stats-section">
                    <h3>ì „ì²´ í†µê³„</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="label">ì „ì²´ ìƒí’ˆ ìˆ˜</div>
                            <div class="value" id="totalProductsStat">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="label">í‰ê·  ê°€ê²©</div>
                            <div class="value" id="avgPriceStat">Â¥0</div>
                        </div>
                        <div class="stat-item">
                            <div class="label">ìµœê³ ê°€</div>
                            <div class="value" id="maxPriceStat">Â¥0</div>
                        </div>
                        <div class="stat-item">
                            <div class="label">ìµœì €ê°€</div>
                            <div class="value" id="minPriceStat">Â¥0</div>
                        </div>
                    </div>
                </div>

                <!-- Brand Statistics -->
                <div class="stats-section">
                    <h3>ë¸Œëœë“œë³„ ë¶„í¬</h3>
                    <div class="chart-container">
                        <div class="bar-chart" id="brandChart"></div>
                    </div>
                </div>

                <!-- Position Statistics -->
                <div class="stats-section">
                    <h3>í¬ì§€ì…˜ë³„ í†µê³„</h3>
                    <div class="stats-grid" id="positionStats">
                    </div>
                </div>

                <!-- Condition Statistics -->
                <div class="stats-section">
                    <h3>ìƒíƒœë³„ ë¶„í¬</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="label">ì‹ í’ˆ</div>
                            <div class="value" id="newCountStat">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="label">ì¤‘ê³ </div>
                            <div class="value" id="usedCountStat">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="label">ì‹ í’ˆ í‰ê· ê°€</div>
                            <div class="value" id="newAvgPriceStat">Â¥0</div>
                        </div>
                        <div class="stat-item">
                            <div class="label">ì¤‘ê³  í‰ê· ê°€</div>
                            <div class="value" id="usedAvgPriceStat">Â¥0</div>
                        </div>
                    </div>
                </div>

                <!-- Market Statistics -->
                <div class="stats-section">
                    <h3>ë§ˆì¼“ë³„ í†µê³„</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="label">Yahoo Auction</div>
                            <div class="value" id="yahooCountStat">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="label">ì•¼ìš©ì‚¬ ì¹´í˜</div>
                            <div class="value" id="yayongsaCountStat">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="label">Yahoo í‰ê· ê°€</div>
                            <div class="value" id="yahooAvgPriceStat">Â¥0</div>
                        </div>
                        <div class="stat-item">
                            <div class="label">ì•¼ìš©ì‚¬ í‰ê· ê°€</div>
                            <div class="value" id="yayongsaAvgPriceStat">â‚©0</div>
                        </div>
                    </div>
                </div>

                <!-- Price Range Distribution -->
                <div class="stats-section">
                    <h3>ê°€ê²©ëŒ€ë³„ ë¶„í¬</h3>
                    <div class="chart-container">
                        <div class="bar-chart" id="priceRangeChart"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜ë¡œ ì œí’ˆ ë°ì´í„° ì €ì¥
        let allProducts = {{ products | tojson | safe }};
        let filteredProducts = [...allProducts];
        console.log('=== INITIAL DATA LOAD ===');
        console.log('Loaded products count:', allProducts.length);
        console.log('First product:', allProducts[0]);

        // ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš° í™•ì¸
        if (allProducts.length === 0) {
            console.error('WARNING: No products loaded!');
        } else {
            console.log('Sample products:', allProducts.slice(0, 3));

            // ë§ˆì¼“ë³„ ì¹´ìš´íŠ¸ í™•ì¸
            const yahooCount = allProducts.filter(p => p.market === 'Yahoo').length;
            const yayongsaCount = allProducts.filter(p => p.market === 'Yayongsa').length;
            console.log('Yahoo products:', yahooCount);
            console.log('Yayongsa products:', yayongsaCount);
        }

        // í˜ì´ì§€ë„¤ì´ì…˜ ë³€ìˆ˜
        let currentPage = 1;
        let pageSize = 24;  // í•œ í˜ì´ì§€ë‹¹ 24ê°œ ì œí’ˆ

        // ì œí’ˆ ë°ì´í„° ë¶„ì„í•˜ì—¬ ì¶”ê°€ ì •ë³´ ì¶”ì¶œ (í•œê¸€ ë°ì´í„° ìœ ì§€)
        function analyzeProduct(product) {
            // ì´ë¯¸ í•œê¸€ ë°ì´í„°ê°€ ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©
            if (product.position && product.condition) {
                return product;
            }

            const title = product.title || '';
            const titleLower = title.toLowerCase();

            // í¬ì§€ì…˜ ë¶„ì„ (í•œê¸€ë¡œ ì €ì¥)
            let position = product.position || 'ì˜¬ë¼ìš´ë“œ';
            if (!product.position) {
                if (title.includes('æŠ•æ‰‹') || titleLower.includes('pitcher') || title.includes('ãƒ”ãƒƒãƒãƒ£ãƒ¼')) {
                    position = 'íˆ¬ìˆ˜';
                } else if (title.includes('å¤–é‡') || titleLower.includes('outfield') || title.includes('ã‚¢ã‚¦ãƒˆãƒ•ã‚£ãƒ«ãƒ€ãƒ¼')) {
                    position = 'ì™¸ì•¼ìˆ˜';
                } else if (title.includes('å†…é‡') || titleLower.includes('infield') || title.includes('ã‚¤ãƒ³ãƒ•ã‚£ãƒ«ãƒ€ãƒ¼')) {
                    position = 'ë‚´ì•¼ìˆ˜';
                } else if (title.includes('æ•æ‰‹') || titleLower.includes('catcher') || title.includes('ã‚­ãƒ£ãƒƒãƒãƒ£ãƒ¼')) {
                    position = 'í¬ìˆ˜';
                }
            }

            // ìƒíƒœ ë¶„ì„ (ì‹ í’ˆ/ì¤‘ê³ ) - í•œê¸€ë¡œ ì €ì¥
            let condition = product.condition || 'ì¤‘ê³ ';
            if (!product.condition) {
                if (title.includes('æ–°å“') || title.includes('æœªä½¿ç”¨') || titleLower.includes('new')) {
                    condition = 'ì‹ í’ˆ';
                }
            }

            // íƒ€ì… ë¶„ì„ (ê²½ì‹/ì—°ì‹)
            let type = 'ê²½ì‹';
            if (title.includes('è»Ÿå¼') || titleLower.includes('softball')) {
                type = 'ì—°ì‹';
            }

            // ë¸Œëœë“œ ë¶„ì„ (ì´ë¯¸ ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©)
            let brand = product.brand || 'ê¸°íƒ€';
            if (!product.brand || product.brand === 'ãã®ä»–') {
                if (titleLower.includes('mizuno') || title.includes('ãƒŸã‚ºãƒ')) {
                    brand = 'Mizuno';
                } else if (titleLower.includes('zett') || title.includes('ã‚¼ãƒƒãƒˆ')) {
                    brand = 'ZETT';
                } else if (titleLower.includes('ssk') || title.includes('ã‚¨ã‚¹ã‚¨ã‚¹ã‚±ã‚¤')) {
                    brand = 'SSK';
                } else if (titleLower.includes('rawlings') || title.includes('ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã‚¹')) {
                    brand = 'Rawlings';
                } else if (titleLower.includes('wilson') || title.includes('ã‚¦ã‚£ãƒ«ã‚½ãƒ³')) {
                    brand = 'Wilson';
                } else if (titleLower.includes('asics') || title.includes('ã‚¢ã‚·ãƒƒã‚¯ã‚¹')) {
                    brand = 'ASICS';
                } else if (titleLower.includes('nike') || title.includes('ãƒŠã‚¤ã‚­')) {
                    brand = 'Nike';
                }
            }

            // ë§ˆì¼“ ì •ë³´ ê·¸ëŒ€ë¡œ ìœ ì§€
            const market = product.market || 'Yahoo';

            return { ...product, position, condition, type, brand, market };
        }

        // ëª¨ë“  ì œí’ˆ ë¶„ì„
        allProducts = allProducts.map(analyzeProduct);
        filteredProducts = [...allProducts];

        // ì œí’ˆ í‘œì‹œ í•¨ìˆ˜
        function displayProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';

            // í˜ì´ì§€ë„¤ì´ì…˜ ê³„ì‚°
            const startIndex = (currentPage - 1) * pageSize;
            const endIndex = startIndex + pageSize;
            const paginatedProducts = filteredProducts.slice(startIndex, endIndex);

            if (paginatedProducts.length === 0 && currentPage > 1) {
                currentPage = 1;
                displayProducts();
                return;
            }

            if (paginatedProducts.length === 0) {
                grid.innerHTML = '<div style="text-align: center; padding: 40px; color: #666;">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
            }

            paginatedProducts.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.onclick = () => {
                    if (product.url && product.url !== '#') {
                        window.open(product.url, '_blank');
                    }
                };

                // ì´ë¯¸ì§€ ì²˜ë¦¬ - ì¸ë„¤ì¼ ìš°ì„ , ì—†ìœ¼ë©´ ê¸°ë³¸ ì´ë¯¸ì§€
                let imageHtml = '<div class="product-image" style="background: #f5f5f5; display: flex; align-items: center; justify-content: center; color: #999;">No Image</div>';
                if (product.image && product.image !== '') {
                    imageHtml = `<img src="${product.image}" class="product-image" alt="${product.title}" onerror="this.onerror=null; this.src=''; this.style.display='none'; this.parentElement.innerHTML='<div class=\\'product-image\\' style=\\'background: #f5f5f5; display: flex; align-items: center; justify-content: center; color: #999;\\'>No Image</div>';">`;
                }

                // ê°€ê²© í‘œì‹œ
                const priceDisplay = product.price || 'ê°€ê²© ì •ë³´ ì—†ìŒ';

                // í¬ì§€ì…˜, ìƒíƒœ, íƒ€ì…ì€ ì´ë¯¸ í•œê¸€ë¡œ ë˜ì–´ ìˆìŒ
                const positionKr = product.position || 'ì˜¬ë¼ìš´ë“œ';
                const conditionKr = product.condition || 'ì¤‘ê³ ';
                const typeKr = product.type || 'ê²½ì‹';

                card.innerHTML = `
                    ${imageHtml}
                    <div class="product-content">
                        <div class="product-title">${product.title}</div>
                        <div class="product-price">${priceDisplay}</div>
                        <div class="product-meta">
                            <span>${positionKr}</span>
                            <span>${conditionKr}</span>
                            <span>${typeKr}</span>
                            <span>${product.brand || 'ê¸°íƒ€'}</span>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });

            // í‘œì‹œ ì¤‘ì¸ ì œí’ˆ ìˆ˜ ì—…ë°ì´íŠ¸
            const totalProducts = filteredProducts.length;
            const showingStart = totalProducts > 0 ? startIndex + 1 : 0;
            const showingEnd = Math.min(endIndex, totalProducts);
            const infoElement = document.getElementById('productInfoText');
            if (infoElement) {
                infoElement.textContent = `í‘œì‹œ ì¤‘: ${showingStart}-${showingEnd} / ì „ì²´ ${totalProducts}ê°œ`;
            }

            // í˜ì´ì§€ë„¤ì´ì…˜ ë²„íŠ¼ ì—…ë°ì´íŠ¸
            updatePagination();
        }

        // í•„í„°ë§ í•¨ìˆ˜
        function filterProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const positionFilter = document.getElementById('positionSelect').value;
            const conditionFilter = document.getElementById('conditionSelect').value;
            const typeFilter = document.getElementById('typeSelect').value;
            const brandFilter = document.getElementById('brandSelect').value;
            const marketFilter = document.getElementById('marketSelect').value;

            filteredProducts = allProducts.filter(product => {
                // ê²€ìƒ‰ì–´ í•„í„° (ì œëª©ê³¼ ë¸Œëœë“œì—ì„œ ê²€ìƒ‰)
                if (searchTerm) {
                    const titleMatch = product.title && product.title.toLowerCase().includes(searchTerm);
                    const brandMatch = product.brand && product.brand.toLowerCase().includes(searchTerm);
                    if (!titleMatch && !brandMatch) {
                        return false;
                    }
                }
                // í¬ì§€ì…˜ í•„í„° (í•œê¸€ ì§ì ‘ ë¹„êµ)
                if (positionFilter !== 'all') {
                    if (product.position !== positionFilter) {
                        return false;
                    }
                }
                // ìƒíƒœ í•„í„° (í•œê¸€ ì§ì ‘ ë¹„êµ)
                if (conditionFilter !== 'all') {
                    if (product.condition !== conditionFilter) {
                        return false;
                    }
                }
                // íƒ€ì… í•„í„° (í•œê¸€ ì§ì ‘ ë¹„êµ)
                if (typeFilter !== 'all') {
                    if (product.type !== typeFilter) {
                        return false;
                    }
                }
                // ë¸Œëœë“œ í•„í„°
                if (brandFilter !== 'all') {
                    if (product.brand !== brandFilter) {
                        return false;
                    }
                }
                // ë§ˆì¼“ í•„í„°
                if (marketFilter !== 'all') {
                    if (product.market !== marketFilter) {
                        return false;
                    }
                }
                return true;
            });

            currentPage = 1;
            displayProducts();
        }

        // í•„í„° ì´ˆê¸°í™”
        function resetFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('positionSelect').value = 'all';
            document.getElementById('conditionSelect').value = 'all';
            document.getElementById('typeSelect').value = 'all';
            document.getElementById('brandSelect').value = 'all';
            document.getElementById('marketSelect').value = 'all';
            filteredProducts = [...allProducts];
            currentPage = 1;
            displayProducts();
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì œí’ˆ í‘œì‹œ ë° ëª¨ë“  ë§ˆì¼“ ì„ íƒ
        window.onload = function() {
            displayProducts();
            // ì´ˆê¸° ë¡œë“œ ì‹œ "ëª¨ë“  ë§ˆì¼“" ë²„íŠ¼ í™œì„±í™”
            document.querySelector('.all-btn').classList.add('active');
        };

        function filterProductsBySource(source) {
            console.log('Filtering by source:', source);
            console.log('All products:', allProducts.length);
            console.log('Sample markets:', allProducts.slice(0, 5).map(p => p.market));

            // ëª¨ë“  ë²„íŠ¼ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            document.querySelectorAll('.action-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            if (source === 'yahoo') {
                filteredProducts = allProducts.filter(p => p.market === 'Yahoo');
                console.log('Yahoo filtered:', filteredProducts.length);
                document.querySelector('.yahoo-btn').classList.add('active');
            } else if (source === 'yayongsa') {
                filteredProducts = allProducts.filter(p => p.market === 'Yayongsa');
                console.log('Yayongsa filtered:', filteredProducts.length);
                // ì•¼ìš©ì‚¬ ì œí’ˆ ë””ë²„ê¹…
                const yayongsaProducts = allProducts.filter(p => p.market === 'Yayongsa');
                console.log('Yayongsa products found:', yayongsaProducts);
                document.querySelector('.daum-btn').classList.add('active');
            } else {
                filteredProducts = [...allProducts];
                console.log('All markets:', filteredProducts.length);
                document.querySelector('.all-btn').classList.add('active');
            }
            currentPage = 1;
            displayProducts();
        }



        function showStatisticsModal() {
            console.log('=== showStatisticsModal called ===');
            console.log('allProducts:', allProducts);
            console.log('allProducts.length:', allProducts.length);
            console.log('filteredProducts:', filteredProducts);
            console.log('filteredProducts.length:', filteredProducts.length);

            const modal = document.getElementById('statsModal');
            modal.classList.add('show');
            calculateStatistics();
        }

        function closeStatsModal() {
            const modal = document.getElementById('statsModal');
            modal.classList.remove('show');
        }

        function calculateStatistics() {
            console.log('calculateStatistics called with', filteredProducts.length, 'products');

            // Calculate overall statistics
            const totalProducts = filteredProducts.length;
            document.getElementById('totalProductsStat').textContent = totalProducts.toLocaleString();

            // ì „ì²´ ì œí’ˆì´ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ì„¤ì •
            if (totalProducts === 0) {
                document.getElementById('avgPriceStat').textContent = 'Â¥0';
                document.getElementById('maxPriceStat').textContent = 'Â¥0';
                document.getElementById('minPriceStat').textContent = 'Â¥0';
                document.getElementById('yahooCountStat').textContent = '0';
                document.getElementById('yayongsaCountStat').textContent = '0';
                document.getElementById('yahooAvgPriceStat').textContent = 'Â¥0';
                document.getElementById('yayongsaAvgPriceStat').textContent = 'â‚©0';
                document.getElementById('newCountStat').textContent = '0';
                document.getElementById('usedCountStat').textContent = '0';
                document.getElementById('newAvgPriceStat').textContent = 'Â¥0';
                document.getElementById('usedAvgPriceStat').textContent = 'Â¥0';

                // ì°¨íŠ¸ ì´ˆê¸°í™”
                document.getElementById('brandChart').innerHTML = '<p style="text-align: center; color: #999;">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤</p>';
                document.getElementById('positionStats').innerHTML = '<p style="text-align: center; color: #999;">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤</p>';
                document.getElementById('priceRangeChart').innerHTML = '<p style="text-align: center; color: #999;">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤</p>';
                return;
            }

            // ë§ˆì¼“ë³„ í†µê³„ ê³„ì‚°
            const yahooProducts = filteredProducts.filter(p => p.market === 'Yahoo');
            const yayongsaProducts = filteredProducts.filter(p => p.market === 'Yayongsa');

            console.log('í†µê³„ ê³„ì‚° - Yahoo:', yahooProducts.length, 'Yayongsa:', yayongsaProducts.length);

            // ë§ˆì¼“ë³„ ìƒí’ˆ ìˆ˜ í‘œì‹œ
            document.getElementById('yahooCountStat').textContent = yahooProducts.length;
            document.getElementById('yayongsaCountStat').textContent = yayongsaProducts.length;

            // Calculate prices (YahooëŠ” ì—”í™”, YayongsaëŠ” ì›í™”)
            const yahooPrices = yahooProducts.map(p => {
                if (p.current_price) {
                    return p.current_price;
                } else if (p.price) {
                    const priceStr = p.price.replace(/[^0-9]/g, '');
                    return parseInt(priceStr) || 0;
                }
                return 0;
            }).filter(p => p > 0);

            const yayongsaPrices = yayongsaProducts.map(p => {
                if (p.current_price) {
                    return p.current_price;
                } else if (p.price) {
                    const priceStr = p.price.replace(/[^0-9]/g, '');
                    return parseInt(priceStr) || 0;
                }
                return 0;
            }).filter(p => p > 0);

            // ì „ì²´ ê°€ê²© (Yahoo ê¸°ì¤€ìœ¼ë¡œ í†µì¼)
            const prices = filteredProducts.map(p => {
                if (p.current_price) {
                    return p.current_price;
                } else if (p.price) {
                    const priceStr = p.price.replace(/[^0-9]/g, '');
                    return parseInt(priceStr) || 0;
                }
                return 0;
            }).filter(p => p > 0);

            if (prices.length > 0) {
                const avgPrice = Math.round(prices.reduce((a, b) => a + b, 0) / prices.length);
                const maxPrice = Math.max(...prices);
                const minPrice = Math.min(...prices);

                // í˜„ì¬ í•„í„°ëœ ì œí’ˆì´ ì£¼ë¡œ ì–´ëŠ ë§ˆì¼“ì¸ì§€ í™•ì¸
                const currency = yahooProducts.length > yayongsaProducts.length ? 'Â¥' : 'â‚©';
                document.getElementById('avgPriceStat').textContent = currency + avgPrice.toLocaleString();
                document.getElementById('maxPriceStat').textContent = currency + maxPrice.toLocaleString();
                document.getElementById('minPriceStat').textContent = currency + minPrice.toLocaleString();
            }

            // ë§ˆì¼“ë³„ í‰ê· ê°€ ê³„ì‚°
            if (yahooPrices.length > 0) {
                const yahooAvg = Math.round(yahooPrices.reduce((a, b) => a + b, 0) / yahooPrices.length);
                document.getElementById('yahooAvgPriceStat').textContent = 'Â¥' + yahooAvg.toLocaleString();
            } else {
                document.getElementById('yahooAvgPriceStat').textContent = 'Â¥0';
            }

            if (yayongsaPrices.length > 0) {
                const yayongsaAvg = Math.round(yayongsaPrices.reduce((a, b) => a + b, 0) / yayongsaPrices.length);
                document.getElementById('yayongsaAvgPriceStat').textContent = 'â‚©' + yayongsaAvg.toLocaleString();
            } else {
                document.getElementById('yayongsaAvgPriceStat').textContent = 'â‚©0';
            }

            // Calculate brand distribution
            const brandCounts = {};
            filteredProducts.forEach(product => {
                const brand = product.brand || 'ê¸°íƒ€';  // í•œê¸€ë¡œ ë³€ê²½
                brandCounts[brand] = (brandCounts[brand] || 0) + 1;
            });

            // Display top brands as bar chart
            const brandChart = document.getElementById('brandChart');
            brandChart.innerHTML = '';
            const topBrands = Object.entries(brandCounts)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 6);

            console.log('Brand counts:', brandCounts);
            console.log('Top brands:', topBrands);

            if (topBrands.length > 0) {
                const maxCount = Math.max(...topBrands.map(b => b[1]));
                topBrands.forEach(([brand, count]) => {
                    const barHeight = Math.max(20, (count / maxCount) * 180);  // ìµœì†Œ ë†’ì´ 20px
                    const bar = document.createElement('div');
                    bar.className = 'bar';
                    bar.style.height = barHeight + 'px';
                    bar.innerHTML = `
                        <span class="bar-value">${count}</span>
                        <span class="bar-label">${brand}</span>
                    `;
                    brandChart.appendChild(bar);
                });
            } else {
                brandChart.innerHTML = '<p style="text-align: center; color: #999;">ë¸Œëœë“œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤</p>';
            }

            // Calculate position statistics
            const positionCounts = {};
            filteredProducts.forEach(product => {
                const position = product.position || 'ì˜¬ë¼ìš´ë“œ';  // í•œê¸€ë¡œ ë³€ê²½
                positionCounts[position] = (positionCounts[position] || 0) + 1;
            });

            const positionStats = document.getElementById('positionStats');
            positionStats.innerHTML = '';

            console.log('Position counts:', positionCounts);

            if (Object.keys(positionCounts).length > 0) {
                Object.entries(positionCounts).forEach(([position, count]) => {
                    const statItem = document.createElement('div');
                    statItem.className = 'stat-item';
                    statItem.innerHTML = `
                        <div class="label">${position}</div>
                        <div class="value">${count}</div>
                    `;
                    positionStats.appendChild(statItem);
                });
            } else {
                positionStats.innerHTML = '<p style="text-align: center; color: #999;">í¬ì§€ì…˜ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤</p>';
            }

            // Calculate condition statistics
            const newProducts = filteredProducts.filter(p => p.condition === 'ì‹ í’ˆ');
            const usedProducts = filteredProducts.filter(p => p.condition === 'ì¤‘ê³ ');

            document.getElementById('newCountStat').textContent = newProducts.length;
            document.getElementById('usedCountStat').textContent = usedProducts.length;

            // Calculate average prices by condition
            const newPrices = newProducts.map(p => {
                if (p.current_price) {
                    return p.current_price;
                } else if (p.price) {
                    const priceStr = p.price.replace(/[^0-9]/g, '');
                    return parseInt(priceStr) || 0;
                }
                return 0;
            }).filter(p => p > 0);

            const usedPrices = usedProducts.map(p => {
                if (p.current_price) {
                    return p.current_price;
                } else if (p.price) {
                    const priceStr = p.price.replace(/[^0-9]/g, '');
                    return parseInt(priceStr) || 0;
                }
                return 0;
            }).filter(p => p > 0);

            if (newPrices.length > 0) {
                const newAvg = Math.round(newPrices.reduce((a, b) => a + b, 0) / newPrices.length);
                document.getElementById('newAvgPriceStat').textContent = 'Â¥' + newAvg.toLocaleString();
            }

            if (usedPrices.length > 0) {
                const usedAvg = Math.round(usedPrices.reduce((a, b) => a + b, 0) / usedPrices.length);
                document.getElementById('usedAvgPriceStat').textContent = 'Â¥' + usedAvg.toLocaleString();
            }

            // Calculate price range distribution
            const priceRanges = {
                '~10,000': 0,
                '10,001~20,000': 0,
                '20,001~30,000': 0,
                '30,001~50,000': 0,
                '50,001~100,000': 0,
                '100,000+': 0
            };

            prices.forEach(price => {
                if (price <= 10000) priceRanges['~10,000']++;
                else if (price <= 20000) priceRanges['10,001~20,000']++;
                else if (price <= 30000) priceRanges['20,001~30,000']++;
                else if (price <= 50000) priceRanges['30,001~50,000']++;
                else if (price <= 100000) priceRanges['50,001~100,000']++;
                else priceRanges['100,000+']++;
            });

            // Display price range chart
            const priceRangeChart = document.getElementById('priceRangeChart');
            priceRangeChart.innerHTML = '';

            const validRanges = Object.entries(priceRanges).filter(([_, count]) => count > 0);
            console.log('Price ranges:', priceRanges);
            console.log('Valid price ranges:', validRanges);

            if (validRanges.length > 0) {
                const maxRangeCount = Math.max(...validRanges.map(([_, count]) => count));

                validRanges.forEach(([range, count]) => {
                    const barHeight = Math.max(20, (count / maxRangeCount) * 180);  // ìµœì†Œ ë†’ì´ 20px
                    const bar = document.createElement('div');
                    bar.className = 'bar';
                    bar.style.height = barHeight + 'px';
                    bar.innerHTML = `
                        <span class="bar-value">${count}</span>
                        <span class="bar-label">Â¥${range}</span>
                    `;
                    priceRangeChart.appendChild(bar);
                });
            } else {
                priceRangeChart.innerHTML = '<p style="text-align: center; color: #999;">ê°€ê²© ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤</p>';
            }
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('statsModal');
            if (event.target == modal) {
                closeStatsModal();
            }
        }

        // í˜ì´ì§€ë„¤ì´ì…˜ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updatePagination() {
            const totalPages = Math.ceil(filteredProducts.length / pageSize);
            const paginationContainer = document.getElementById('paginationContainer');
            if (!paginationContainer) return;

            paginationContainer.innerHTML = '';

            if (totalPages <= 1) return;

            // ì²˜ìŒ ë²„íŠ¼
            const firstBtn = document.createElement('button');
            firstBtn.textContent = 'ì²˜ìŒ';
            firstBtn.onclick = () => goToPage(1);
            firstBtn.disabled = currentPage === 1;
            paginationContainer.appendChild(firstBtn);

            // ì´ì „ ë²„íŠ¼
            const prevBtn = document.createElement('button');
            prevBtn.textContent = 'ì´ì „';
            prevBtn.onclick = () => previousPage();
            prevBtn.disabled = currentPage === 1;
            paginationContainer.appendChild(prevBtn);

            // í˜ì´ì§€ ë²ˆí˜¸ ë²„íŠ¼ë“¤
            const startPage = Math.max(1, currentPage - 2);
            const endPage = Math.min(totalPages, startPage + 4);

            for (let i = startPage; i <= endPage; i++) {
                const pageBtn = document.createElement('button');
                pageBtn.textContent = i;
                pageBtn.onclick = () => goToPage(i);
                if (i === currentPage) {
                    pageBtn.className = 'active';
                }
                paginationContainer.appendChild(pageBtn);
            }

            // ë‹¤ìŒ ë²„íŠ¼
            const nextBtn = document.createElement('button');
            nextBtn.textContent = 'ë‹¤ìŒ';
            nextBtn.onclick = () => nextPage();
            nextBtn.disabled = currentPage === totalPages || totalPages === 0;
            paginationContainer.appendChild(nextBtn);

            // ë§ˆì§€ë§‰ ë²„íŠ¼
            const lastBtn = document.createElement('button');
            lastBtn.textContent = 'ë§ˆì§€ë§‰';
            lastBtn.onclick = () => goToLastPage();
            lastBtn.disabled = currentPage === totalPages || totalPages === 0;
            paginationContainer.appendChild(lastBtn);
        }

        function changePageSize(size) {
            pageSize = parseInt(size);
            currentPage = 1;
            displayProducts();
        }

        function goToPage(page) {
            currentPage = page;
            displayProducts();
            window.scrollTo(0, 0);
        }

        function previousPage() {
            if (currentPage > 1) {
                currentPage--;
                displayProducts();
                window.scrollTo(0, 0);
            }
        }

        function nextPage() {
            const totalPages = Math.ceil(filteredProducts.length / pageSize);
            if (currentPage < totalPages) {
                currentPage++;
                displayProducts();
                window.scrollTo(0, 0);
            }
        }

        function goToLastPage() {
            const totalPages = Math.ceil(filteredProducts.length / pageSize) || 1;
            currentPage = totalPages;
            displayProducts();
            window.scrollTo(0, 0);
        }

        // ì•¼ìš©ì‚¬ í¬ë¡¤ë§ í•¨ìˆ˜
        function startYayongsaCrawl() {
            // í¬ë¡¤ë§ ì‹œì‘ í™•ì¸
            if (confirm('ì•¼ìš©ì‚¬(ë‹¤ìŒ ì¹´í˜) í¬ë¡¤ë§ì„ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\ní¬ë¡¤ë§ì´ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.\nì ì‹œ í›„ ê²°ê³¼ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.')) {
                // í¬ë¡¤ë§ API í˜¸ì¶œ
                fetch('/api/crawl/yayongsa', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    }
                })
                .then(response => response.json())
                .then(data => {
                    if (data.status === 'success') {
                        alert(data.message);
                    } else {
                        alert('í¬ë¡¤ë§ ì‹œì‘ ì‹¤íŒ¨: ' + data.message);
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('í¬ë¡¤ë§ ìš”ì²­ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                });
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.addEventListener('DOMContentLoaded', function() {
            displayProducts();
        });
    </script>
</body>
</html>